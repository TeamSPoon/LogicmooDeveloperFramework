Listen 1081
<VirtualHost *:1081>
ServerAdmin logicmoo@gmail.com
ServerName logicmoo.org
DocumentRoot /var/www/html
ErrorLog ${APACHE_LOG_DIR}/error.log
CustomLog ${APACHE_LOG_DIR}/access.log combined
SSLCertificateFile /etc/letsencrypt/live/logicmoo.org/fullchain.pem   
SSLCertificateKeyFile /etc/letsencrypt/live/logicmoo.org/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
RewriteEngine On
ProxyPreserveHost On
# This checks to make sure the connection is not already HTTPS

#RewriteCond %{HTTPS} !=on
#RewriteRule ^/?(.*) https://%{SERVER_NAME}:1081/$1 [R,L]

RewriteCond %{HTTP:UPGRADE} ^WebSocket$   [NC]
RewriteCond %{HTTP:CONNECTION} ^Upgrade$ [NC]
RewriteRule .* ws://localhost:1082%{REQUEST_URI} [P,L]
#RewriteCond %{REQUEST_FILENAME} !-f
#RewriteRule "^/(.*)" "http://localhost:1082/$1" [P,L]
ProxyPass / http://logicmoo.org:1082/                          
ProxyPassReverse / http://logicmoo.org:1082/
ProxyPassReverse / https://logicmoo.org:1082/
</VirtualHost>

Listen 1080
<VirtualHost *:1080>
ServerAdmin logicmoo@gmail.com
ServerName logicmoo.org
DocumentRoot /var/www/html
ErrorLog ${APACHE_LOG_DIR}/error.log
CustomLog ${APACHE_LOG_DIR}/access.log combined
SSLCertificateFile /etc/letsencrypt/live/logicmoo.org/fullchain.pem   
SSLCertificateKeyFile /etc/letsencrypt/live/logicmoo.org/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
RewriteEngine On
ProxyPreserveHost On
# This checks to make sure the connection is not already HTTPS

#RewriteCond %{HTTPS} !=on
#RewriteRule ^/?(.*) https://%{SERVER_NAME}:1081/$1 [R,L]

RewriteCond %{HTTP:UPGRADE} ^WebSocket$   [NC]
RewriteCond %{HTTP:CONNECTION} ^Upgrade$ [NC]
RewriteRule .* ws://localhost:1082%{REQUEST_URI} [P,L]
#RewriteCond %{REQUEST_FILENAME} !-f
#RewriteRule "^/(.*)" "http://localhost:1082/$1" [P,L]
ProxyPass / http://logicmoo.org:1082/                          
ProxyPassReverse / http://logicmoo.org:1082/
ProxyPassReverse / https://logicmoo.org:1082/
</VirtualHost>


Listen 4080
<VirtualHost *:4080>
ServerAdmin logicmoo@gmail.com
ServerName logicmoo.org
DocumentRoot /var/www/html
ErrorLog ${APACHE_LOG_DIR}/error.log
CustomLog ${APACHE_LOG_DIR}/access.log combined
SSLCertificateFile /etc/letsencrypt/live/logicmoo.org/fullchain.pem   
SSLCertificateKeyFile /etc/letsencrypt/live/logicmoo.org/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
RewriteEngine On
ProxyPreserveHost On
# This checks to make sure the connection is not already HTTPS

#RewriteCond %{HTTPS} !=on
#RewriteRule ^/?(.*) https://%{SERVER_NAME}:1081/$1 [R,L]

RewriteCond %{HTTP:UPGRADE} ^WebSocket$   [NC]
RewriteCond %{HTTP:CONNECTION} ^Upgrade$ [NC]
RewriteRule .* ws://localhost:1082%{REQUEST_URI} [P,L]
#RewriteCond %{REQUEST_FILENAME} !-f
#RewriteRule "^/(.*)" "http://localhost:1082/$1" [P,L]
ProxyPass / http://logicmoo.org:1082/                          
ProxyPassReverse / http://logicmoo.org:1082/
ProxyPassReverse / https://logicmoo.org:1082/
</VirtualHost>




Listen 13904 
<VirtualHost *:13904>
ServerAdmin logicmoo@gmail.com
ServerName logicmoo.org
DocumentRoot /var/www/html
ErrorLog ${APACHE_LOG_DIR}/error.log
CustomLog ${APACHE_LOG_DIR}/access.log combined
SSLCertificateFile /etc/letsencrypt/live/logicmoo.org/fullchain.pem   
SSLCertificateKeyFile /etc/letsencrypt/live/logicmoo.org/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
RewriteEngine On
ProxyPreserveHost On
RewriteCond %{HTTP:UPGRADE} ^WebSocket$   [NC]
RewriteCond %{HTTP:CONNECTION} ^Upgrade$ [NC]
RewriteRule .* ws://localhost:3904%{REQUEST_URI} [P,L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule "^/(.*)" "http://localhost:3904/$1" [P,L]
</VirtualHost>


Listen 13100 
<VirtualHost *:13100>
ServerAdmin logicmoo@gmail.com
ServerName logicmoo.org
DocumentRoot /var/www/html
ErrorLog ${APACHE_LOG_DIR}/error.log
CustomLog ${APACHE_LOG_DIR}/access.log combined
SSLCertificateFile /etc/letsencrypt/live/logicmoo.org/fullchain.pem   
SSLCertificateKeyFile /etc/letsencrypt/live/logicmoo.org/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
RewriteEngine On
ProxyPreserveHost On
RewriteCond %{HTTP:UPGRADE} ^WebSocket$   [NC]
RewriteCond %{HTTP:CONNECTION} ^Upgrade$ [NC]
RewriteRule .* ws://localhost:3100%{REQUEST_URI} [P,L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule "^/(.*)" "http://localhost:3100/$1" [P,L]
</VirtualHost>

Listen 13101 
<VirtualHost *:13101>
ServerAdmin logicmoo@gmail.com
ServerName logicmoo.org
DocumentRoot /var/www/html
ErrorLog ${APACHE_LOG_DIR}/error.log
CustomLog ${APACHE_LOG_DIR}/access.log combined
SSLCertificateFile /etc/letsencrypt/live/logicmoo.org/fullchain.pem   
SSLCertificateKeyFile /etc/letsencrypt/live/logicmoo.org/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
RewriteEngine On
ProxyPreserveHost On
RewriteCond %{HTTP:UPGRADE} ^WebSocket$   [NC]
RewriteCond %{HTTP:CONNECTION} ^Upgrade$ [NC]
RewriteRule .* ws://localhost:3101%{REQUEST_URI} [P,L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule "^/(.*)" "http://localhost:3101/$1" [P,L]
</VirtualHost>

Listen 8181 
<VirtualHost *:8181>
ServerAdmin logicmoo@gmail.com
ServerName logicmoo.org
DocumentRoot /var/www/html
ErrorLog ${APACHE_LOG_DIR}/error.log
CustomLog ${APACHE_LOG_DIR}/access.log combined
SSLCertificateFile /etc/letsencrypt/live/logicmoo.org/fullchain.pem   
SSLCertificateKeyFile /etc/letsencrypt/live/logicmoo.org/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
RewriteEngine On
ProxyPreserveHost On
RewriteCond %{HTTP:UPGRADE} ^WebSocket$   [NC]
RewriteCond %{HTTP:CONNECTION} ^Upgrade$ [NC]
RewriteRule .* ws://localhost:8282%{REQUEST_URI} [P,L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule "^/(.*)" "http://localhost:8282/$1" [P,L]
</VirtualHost>

Listen 13123 
<VirtualHost *:13123>
ServerAdmin logicmoo@gmail.com
ServerName logicmoo.org
DocumentRoot /var/www/html
ErrorLog ${APACHE_LOG_DIR}/error.log
CustomLog ${APACHE_LOG_DIR}/access.log combined
SSLCertificateFile /etc/letsencrypt/live/logicmoo.org/fullchain.pem   
SSLCertificateKeyFile /etc/letsencrypt/live/logicmoo.org/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
RewriteEngine On
ProxyPreserveHost On
RewriteCond %{HTTP:UPGRADE} ^WebSocket$   [NC]
RewriteCond %{HTTP:CONNECTION} ^Upgrade$ [NC]
RewriteRule .* ws://localhost:3123%{REQUEST_URI} [P,L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule "^/(.*)" "http://localhost:3123/$1" [P,L]
</VirtualHost>


Listen 13103 
<VirtualHost *:13103>
ServerAdmin logicmoo@gmail.com
ServerName logicmoo.org
DocumentRoot /var/www/html
ErrorLog ${APACHE_LOG_DIR}/error.log
CustomLog ${APACHE_LOG_DIR}/access.log combined
SSLCertificateFile /etc/letsencrypt/live/logicmoo.org/fullchain.pem   
SSLCertificateKeyFile /etc/letsencrypt/live/logicmoo.org/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
RewriteEngine On
ProxyPreserveHost On
RewriteCond %{HTTP:UPGRADE} ^WebSocket$   [NC]
RewriteCond %{HTTP:CONNECTION} ^Upgrade$ [NC]
RewriteRule .* ws://localhost:3103%{REQUEST_URI} [P,L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule "^/(.*)" "http://localhost:3103/$1" [P,L]
</VirtualHost>


Listen 4020
<VirtualHost *:4020>
ServerName logicmoo.org
RewriteEngine On
ProxyPreserveHost On
SSLProxyEngine on 
SSLCertificateFile /etc/letsencrypt/live/logicmoo.org/fullchain.pem   
SSLCertificateKeyFile /etc/letsencrypt/live/logicmoo.org/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
ProxyPass / http://logicmoo.org:3020/
ProxyPassReverse / http://logicmoo.org:3020/
DocumentRoot /opt/logicmoo_workspace/~html~
</VirtualHost>


Listen 4083
<VirtualHost *:4083>
ServerName logicmoo.org
RewriteEngine On
ProxyPreserveHost On
SSLProxyEngine on 
SSLCertificateFile /etc/letsencrypt/live/logicmoo.org/fullchain.pem   
SSLCertificateKeyFile /etc/letsencrypt/live/logicmoo.org/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
ProxyPass /swipl http://logicmoo.org:3020/
ProxyPass / http://logicmoo.org:3020/swipl
ProxyPassReverse /swipl http://logicmoo.org:3020/
DocumentRoot /opt/logicmoo_workspace/~html~
</VirtualHost>


#ServerSignature Off

# This will enable the Rewrite capabilities
#RewriteEngine On

# This checks to make sure the connection is not already HTTPS
#RewriteCond %{HTTPS} !=on
#RewriteRule ^/?(.*) https://%{SERVER_NAME}/$1 [NE, R,L]

Listen 4088
<VirtualHost *:4088>

	ServerAdmin logicmoo@gmail.com
	ServerName logicmoo.org
	DocumentRoot /opt/logicmoo_workspace/~html~/

	ErrorLog ${APACHE_LOG_DIR}/error.log
	CustomLog ${APACHE_LOG_DIR}/access.log combined


#   SSLCertificateFile /etc/letsencrypt/live/logicmoo.org/fullchain.pem   
#   SSLCertificateKeyFile /etc/letsencrypt/live/logicmoo.org/privkey.pem
#   Include /etc/letsencrypt/options-ssl-apache.conf

#	ErrorLog /opt/logicmoo_workspace/log/error.log
#	CustomLog /opt/logicmoo_workspace/log/access.log combined

DirectoryIndex index.html index.htm index.php welcome.html

Include /etc/apache2/conf-available/cliopatria_swish.conf

</VirtualHost>



