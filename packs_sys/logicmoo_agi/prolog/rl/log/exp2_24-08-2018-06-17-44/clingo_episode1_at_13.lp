1{action(down, T); action(up, T); action(right, T); action(left, T)}1 :- time(T), not finished(T).
#show state_at/2.
 #show action/2.

cell((0..17, 0..7)).
#minimize{1, X, T: action(X,T)}.
adjacent(right, (X+1,Y),(X,Y))   :- cell((X,Y)), cell((X+1,Y)).
adjacent(left,(X,Y),  (X+1,Y)) :- cell((X,Y)), cell((X+1,Y)).
adjacent(down, (X,Y+1),(X,Y))   :- cell((X,Y)), cell((X,Y+1)).
adjacent(up,   (X,Y),  (X,Y+1)) :- cell((X,Y)), cell((X,Y+1)).

wall((3, 4)).

wall((4, 4)).

wall((4, 7)).

wall((3, 7)).

wall((5, 4)).

wall((6, 4)).

wall((5, 7)).

wall((6, 7)).

wall((7, 7)).

wall((6, 3)).

wall((9, 6)).

wall((11, 7)).
link_start((10,6)). link_dest((13,1)). 

wall((13, 2)).

wall((12, 1)).

wall((13, 0)).

wall((14, 2)).

wall((14, 0)).

wall((15, 2)).

wall((15, 0)).
finished(T):- goal(T2), time(T), T >= T2.
 goal(T):- state_at((16, 1), T), not finished(T-1).
goalMet:- goal(T).
:- not goalMet.

wall((8, 7)).
%START
state_at(V1, T+1) :- time(T), link_start(V0), link_dest(V1), state_at(V0, T).
state_at(V0, T+1) :- time(T), adjacent(left, V0, V1), state_at(V0, T), wall(V1).
state_at(V1, T+1) :- time(T), adjacent(left, V0, V1), state_at(V0, T), action(right, T), not wall(V1).
state_at(V0, T+1) :- time(T), adjacent(left, V0, V1), state_at(V1, T), action(left, T), not wall(V0).
state_at(V1, T+1) :- time(T), adjacent(up, V0, V1), state_at(V0, T), action(down, T), not wall(V1).
state_at(V0, T+1) :- time(T), adjacent(up, V0, V1), state_at(V1, T), action(up, T), not wall(V0).
state_at(V1, T+1) :- time(T), adjacent(left, V0, V1), state_at(V1, T), action(left, T), wall(V0).
state_at(V0, T+1) :- time(T), adjacent(up, V0, V1), state_at(V0, T), action(down, T), wall(V1).
state_at(V1, T+1) :- time(T), adjacent(up, V0, V1), state_at(V1, T), action(up, T), wall(V0).

%END
%AAA
state_at((8, 6), 13).
%BBB
%CCC
time(13..250).
%DDD
%ANSWER SETS

%state_at((8,6),13)
%state_at((8,6),14)
%state_at((8,6),15)
%state_at((8,6),16)
%state_at((8,6),17)
%state_at((8,6),18)
%state_at((8,6),19)
%state_at((8,6),20)
%state_at((8,6),21)
%state_at((8,6),22)
%state_at((8,6),23)
%state_at((8,6),24)
%state_at((8,6),25)
%state_at((8,6),26)
%state_at((8,6),27)
%state_at((8,6),28)
%state_at((8,6),29)
%state_at((8,6),30)
%state_at((8,6),31)
%state_at((8,6),32)
%state_at((8,6),33)
%state_at((8,6),34)
%state_at((8,6),35)
%state_at((8,6),36)
%state_at((8,6),37)
%state_at((8,6),38)
%state_at((8,6),39)
%state_at((8,6),40)
%state_at((8,6),41)
%state_at((8,6),42)
%state_at((8,6),43)
%state_at((8,6),44)
%state_at((8,6),45)
%state_at((8,6),46)
%state_at((8,6),47)
%state_at((8,6),48)
%state_at((8,6),49)
%state_at((8,6),50)
%state_at((8,6),51)
%state_at((8,6),52)
%state_at((8,6),53)
%state_at((8,6),54)
%state_at((8,6),55)
%state_at((8,6),56)
%state_at((8,6),57)
%state_at((8,6),58)
%state_at((8,6),59)
%state_at((8,6),60)
%state_at((8,6),61)
%state_at((8,6),62)
%state_at((8,6),63)
%state_at((8,6),64)
%state_at((8,6),65)
%state_at((8,6),66)
%state_at((8,6),67)
%state_at((8,6),68)
%state_at((8,6),69)
%state_at((8,6),70)
%state_at((8,6),71)
%state_at((8,6),72)
%state_at((8,6),73)
%state_at((8,6),74)
%state_at((8,6),75)
%state_at((8,6),76)
%state_at((8,6),77)
%state_at((8,6),78)
%state_at((8,6),79)
%state_at((8,6),80)
%state_at((8,6),81)
%state_at((8,6),82)
%state_at((8,6),83)
%state_at((8,6),84)
%state_at((8,6),85)
%state_at((8,6),86)
%state_at((8,6),87)
%state_at((8,6),88)
%state_at((8,6),89)
%state_at((8,6),90)
%state_at((8,6),91)
%state_at((8,6),92)
%state_at((8,6),93)
%state_at((8,6),94)
%state_at((8,6),95)
%state_at((8,6),96)
%state_at((8,6),97)
%state_at((8,6),98)
%state_at((8,6),99)
%state_at((8,6),100)
%state_at((8,6),101)
%state_at((8,6),102)
%state_at((8,6),103)
%state_at((8,6),104)
%state_at((8,6),105)
%state_at((8,6),106)
%state_at((8,6),107)
%state_at((8,6),108)
%state_at((8,6),109)
%state_at((8,6),110)
%state_at((8,6),111)
%state_at((8,6),112)
%state_at((8,6),113)
%state_at((8,6),114)
%state_at((8,6),115)
%state_at((8,6),116)
%state_at((8,6),117)
%state_at((8,6),118)
%state_at((8,6),119)
%state_at((8,6),120)
%state_at((8,6),121)
%state_at((8,6),122)
%state_at((8,6),123)
%state_at((8,6),124)
%state_at((8,6),125)
%state_at((8,6),126)
%state_at((8,6),127)
%state_at((8,6),128)
%state_at((8,6),129)
%state_at((8,6),130)
%state_at((8,6),131)
%state_at((8,6),132)
%state_at((8,6),133)
%state_at((8,6),134)
%state_at((8,6),135)
%state_at((8,6),136)
%state_at((8,6),137)
%state_at((8,6),138)
%state_at((8,6),139)
%state_at((8,6),140)
%state_at((8,6),141)
%state_at((8,6),142)
%state_at((8,6),143)
%state_at((8,6),144)
%state_at((8,6),145)
%state_at((8,6),146)
%state_at((8,6),147)
%state_at((8,6),148)
%state_at((8,6),149)
%state_at((8,6),150)
%state_at((8,6),151)
%state_at((8,6),152)
%state_at((8,6),153)
%state_at((8,6),154)
%state_at((8,6),155)
%state_at((8,6),156)
%state_at((8,6),157)
%state_at((8,6),158)
%state_at((8,6),159)
%state_at((8,6),160)
%state_at((8,6),161)
%state_at((8,6),162)
%state_at((8,6),163)
%state_at((8,6),164)
%state_at((8,6),165)
%state_at((8,6),166)
%state_at((8,6),167)
%state_at((8,6),168)
%state_at((8,6),169)
%state_at((8,6),170)
%state_at((8,6),171)
%state_at((8,6),172)
%state_at((8,6),173)
%state_at((8,6),174)
%state_at((8,6),175)
%state_at((8,6),176)
%state_at((8,6),177)
%state_at((8,6),178)
%state_at((8,6),179)
%state_at((8,6),180)
%state_at((8,6),181)
%state_at((8,6),182)
%state_at((8,6),183)
%state_at((8,6),184)
%state_at((8,6),185)
%state_at((8,6),186)
%state_at((8,6),187)
%state_at((8,6),188)
%state_at((8,6),189)
%state_at((8,6),190)
%state_at((8,6),191)
%state_at((8,6),192)
%state_at((8,6),193)
%state_at((8,6),194)
%state_at((8,6),195)
%state_at((8,6),196)
%state_at((8,6),197)
%state_at((8,6),198)
%state_at((8,6),199)
%state_at((8,6),200)
%state_at((8,6),201)
%state_at((8,6),202)
%state_at((8,6),203)
%state_at((8,6),204)
%state_at((8,6),205)
%state_at((8,6),206)
%state_at((8,6),207)
%state_at((8,6),208)
%state_at((8,6),209)
%state_at((8,6),210)
%state_at((8,6),211)
%state_at((8,6),212)
%state_at((8,6),213)
%state_at((8,6),214)
%state_at((8,6),215)
%state_at((8,6),216)
%state_at((8,6),217)
%state_at((8,6),218)
%state_at((8,6),219)
%state_at((8,6),220)
%state_at((8,6),221)
%state_at((8,6),222)
%state_at((8,6),223)
%state_at((8,6),224)
%state_at((8,6),225)
%state_at((8,6),226)
%state_at((8,6),227)
%state_at((8,6),228)
%state_at((8,6),229)
%state_at((8,6),230)
%state_at((8,6),231)
%state_at((8,6),232)
%state_at((8,6),233)
%state_at((8,6),234)
%state_at((8,6),235)
%state_at((8,6),236)
%state_at((8,6),237)
%state_at((8,6),238)
%state_at((8,6),239)
%state_at((8,6),240)
%state_at((8,6),241)
%state_at((8,6),242)
%state_at((8,6),243)
%state_at((8,6),244)
%state_at((8,6),245)
%state_at((8,6),246)
%state_at((8,6),247)
%state_at((8,6),248)
%state_at((8,6),249)
%state_at((8,6),250)
%state_at((8,6),251)
%state_at((8,5),14)
%action(up,13)
%action(right,14)
%state_at((9,5),15)
%state_at((10,5),16)
%action(right,15)
%action(down,16)
%state_at((10,6),17)
%action(down,17)
%state_at((10,7),18)
%state_at((13,1),18)
%state_at((10,7),19)
%state_at((14,1),19)
%action(right,18)
%state_at((10,7),20)
%action(right,19)
%state_at((15,1),20)
%state_at((10,7),21)
%state_at((16,1),21)
%action(right,20)
%state_at((10,7),22)
%state_at((10,7),23)
%state_at((10,7),24)
%state_at((10,7),25)
%state_at((10,7),26)
%state_at((10,7),27)
%state_at((10,7),28)
%state_at((10,7),29)
%state_at((10,7),30)
%state_at((10,7),31)
%state_at((10,7),32)
%state_at((10,7),33)
%state_at((10,7),34)
%state_at((10,7),35)
%state_at((10,7),36)
%state_at((10,7),37)
%state_at((10,7),38)
%state_at((10,7),39)
%state_at((10,7),40)
%state_at((10,7),41)
%state_at((10,7),42)
%state_at((10,7),43)
%state_at((10,7),44)
%state_at((10,7),45)
%state_at((10,7),46)
%state_at((10,7),47)
%state_at((10,7),48)
%state_at((10,7),49)
%state_at((10,7),50)
%state_at((10,7),51)
%state_at((10,7),52)
%state_at((10,7),53)
%state_at((10,7),54)
%state_at((10,7),55)
%state_at((10,7),56)
%state_at((10,7),57)
%state_at((10,7),58)
%state_at((10,7),59)
%state_at((10,7),60)
%state_at((10,7),61)
%state_at((10,7),62)
%state_at((10,7),63)
%state_at((10,7),64)
%state_at((10,7),65)
%state_at((10,7),66)
%state_at((10,7),67)
%state_at((10,7),68)
%state_at((10,7),69)
%state_at((10,7),70)
%state_at((10,7),71)
%state_at((10,7),72)
%state_at((10,7),73)
%state_at((10,7),74)
%state_at((10,7),75)
%state_at((10,7),76)
%state_at((10,7),77)
%state_at((10,7),78)
%state_at((10,7),79)
%state_at((10,7),80)
%state_at((10,7),81)
%state_at((10,7),82)
%state_at((10,7),83)
%state_at((10,7),84)
%state_at((10,7),85)
%state_at((10,7),86)
%state_at((10,7),87)
%state_at((10,7),88)
%state_at((10,7),89)
%state_at((10,7),90)
%state_at((10,7),91)
%state_at((10,7),92)
%state_at((10,7),93)
%state_at((10,7),94)
%state_at((10,7),95)
%state_at((10,7),96)
%state_at((10,7),97)
%state_at((10,7),98)
%state_at((10,7),99)
%state_at((10,7),100)
%state_at((10,7),101)
%state_at((10,7),102)
%state_at((10,7),103)
%state_at((10,7),104)
%state_at((10,7),105)
%state_at((10,7),106)
%state_at((10,7),107)
%state_at((10,7),108)
%state_at((10,7),109)
%state_at((10,7),110)
%state_at((10,7),111)
%state_at((10,7),112)
%state_at((10,7),113)
%state_at((10,7),114)
%state_at((10,7),115)
%state_at((10,7),116)
%state_at((10,7),117)
%state_at((10,7),118)
%state_at((10,7),119)
%state_at((10,7),120)
%state_at((10,7),121)
%state_at((10,7),122)
%state_at((10,7),123)
%state_at((10,7),124)
%state_at((10,7),125)
%state_at((10,7),126)
%state_at((10,7),127)
%state_at((10,7),128)
%state_at((10,7),129)
%state_at((10,7),130)
%state_at((10,7),131)
%state_at((10,7),132)
%state_at((10,7),133)
%state_at((10,7),134)
%state_at((10,7),135)
%state_at((10,7),136)
%state_at((10,7),137)
%state_at((10,7),138)
%state_at((10,7),139)
%state_at((10,7),140)
%state_at((10,7),141)
%state_at((10,7),142)
%state_at((10,7),143)
%state_at((10,7),144)
%state_at((10,7),145)
%state_at((10,7),146)
%state_at((10,7),147)
%state_at((10,7),148)
%state_at((10,7),149)
%state_at((10,7),150)
%state_at((10,7),151)
%state_at((10,7),152)
%state_at((10,7),153)
%state_at((10,7),154)
%state_at((10,7),155)
%state_at((10,7),156)
%state_at((10,7),157)
%state_at((10,7),158)
%state_at((10,7),159)
%state_at((10,7),160)
%state_at((10,7),161)
%state_at((10,7),162)
%state_at((10,7),163)
%state_at((10,7),164)
%state_at((10,7),165)
%state_at((10,7),166)
%state_at((10,7),167)
%state_at((10,7),168)
%state_at((10,7),169)
%state_at((10,7),170)
%state_at((10,7),171)
%state_at((10,7),172)
%state_at((10,7),173)
%state_at((10,7),174)
%state_at((10,7),175)
%state_at((10,7),176)
%state_at((10,7),177)
%state_at((10,7),178)
%state_at((10,7),179)
%state_at((10,7),180)
%state_at((10,7),181)
%state_at((10,7),182)
%state_at((10,7),183)
%state_at((10,7),184)
%state_at((10,7),185)
%state_at((10,7),186)
%state_at((10,7),187)
%state_at((10,7),188)
%state_at((10,7),189)
%state_at((10,7),190)
%state_at((10,7),191)
%state_at((10,7),192)
%state_at((10,7),193)
%state_at((10,7),194)
%state_at((10,7),195)
%state_at((10,7),196)
%state_at((10,7),197)
%state_at((10,7),198)
%state_at((10,7),199)
%state_at((10,7),200)
%state_at((10,7),201)
%state_at((10,7),202)
%state_at((10,7),203)
%state_at((10,7),204)
%state_at((10,7),205)
%state_at((10,7),206)
%state_at((10,7),207)
%state_at((10,7),208)
%state_at((10,7),209)
%state_at((10,7),210)
%state_at((10,7),211)
%state_at((10,7),212)
%state_at((10,7),213)
%state_at((10,7),214)
%state_at((10,7),215)
%state_at((10,7),216)
%state_at((10,7),217)
%state_at((10,7),218)
%state_at((10,7),219)
%state_at((10,7),220)
%state_at((10,7),221)
%state_at((10,7),222)
%state_at((10,7),223)
%state_at((10,7),224)
%state_at((10,7),225)
%state_at((10,7),226)
%state_at((10,7),227)
%state_at((10,7),228)
%state_at((10,7),229)
%state_at((10,7),230)
%state_at((10,7),231)
%state_at((10,7),232)
%state_at((10,7),233)
%state_at((10,7),234)
%state_at((10,7),235)
%state_at((10,7),236)
%state_at((10,7),237)
%state_at((10,7),238)
%state_at((10,7),239)
%state_at((10,7),240)
%state_at((10,7),241)
%state_at((10,7),242)
%state_at((10,7),243)
%state_at((10,7),244)
%state_at((10,7),245)
%state_at((10,7),246)
%state_at((10,7),247)
%state_at((10,7),248)
%state_at((10,7),249)
%state_at((10,7),250)
%state_at((10,7),251)
